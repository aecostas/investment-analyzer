function AudienceTypeConfirmModule(n){var e=window.document.domain.split(".").slice(1).join("."),t={TheOrdinalOfPagesPerVisitToShow:0,TheTimeOfBeingOnThePage:0,CookieDomain:e,Site:"",ShowCloseButton:!0,daysToExpires:180};$.extend(!0,t,n);var o=function(){var n=$.audiencetarget.getCookie()||{},i=!n.hasOwnProperty("AudienceType")||n.AudienceType==-1?!0:!1,r=t.ShowCloseButton?!h()&&i:i;return s()&&r},s=function(){return t.TheOrdinalOfPagesPerVisitToShow<=i()},h=function(){return $.cookie(r())=="true"},r=function(){return f("AudeniceTypeBackFill-hasShown")},u=function(){return f("OrdinalOfPages")},f=function(n){return t.Site&&t.Site.length>0&&(n=t.Site+"-"+n),n},i=function(){var n=$.cookie(u());return n&&n>0?n:0},c=function(){$.cookie(u(),1+Number(i()),{domain:t.CookieDomain,path:"/"})},l=function(){var n=$("#frameContainer").get(0).contentWindow.document.URL;/(.*)\/membership\/audiencetypeconfirm\.aspx(.*)/gi.test(n)&&_gaq.push(["_trackEvent","BackFill","Audience Type Confirm Page is closed"])},a=function(){$.eumodaldialog.popup("",{contentID:"audienceTypeConfirmPopupContent",width:655,height:614,closeLabel:$("#hidCloseLabel").val(),hideCallback:l,showClose:t.ShowCloseButton,crossDomain:!0});$.cookie(r(),"true",{domain:t.CookieDomain,path:"/",expires:t.daysToExpires});_gaq.push(["_trackEvent","BackFill","Audience Type Confirm Page is shown"])};return{Init:function(){if(c(),o()){var n=t.TheOrdinalOfPagesPerVisitToShow<i()?0:t.TheTimeOfBeingOnThePage*1e3;setTimeout(function(){a()},n)}}}}(function(n){function r(){var n=new Date;return new Date(n.setMonth(n.getMonth()+3))}var t={},i="ad-profile";t.getCookie=function(){var t=n.cookie(i);return n.parseJSON(t)};t.setCookie=function(t){var u=window.document.domain.split(".").slice(1).join(".");return n.cookie(i,n.toJSON(t),{domain:u,expires:r(),path:"/"}),!0};t.setDefaultCookie=function(){var t=this.getCookie();t||(t={NeedRefresh:!1,UserType:0,AudienceType:-1,PortofolioCreated:0,IsForObsr:!1,NeedPopupAudienceBackfill:!1},this.setCookie(n.toJSON(t)))};n.extend({audiencetarget:t})})(jQuery);